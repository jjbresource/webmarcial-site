<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WebMarcial - Cursos</title>

  <style>
    *{ margin:0; padding:0; box-sizing:border-box; }

    body{
      font-family: Arial, sans-serif;
      background: #070A13;
      color: #fff;
      overflow-x:hidden;
      min-height:100vh;
    }

    .bg{
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 20% 20%, rgba(124,58,237,0.35), transparent 40%),
        radial-gradient(circle at 80% 30%, rgba(10,102,194,0.35), transparent 45%),
        radial-gradient(circle at 50% 80%, rgba(34,197,94,0.18), transparent 40%);
      z-index: -2;
    }

    .noise{
      position: fixed;
      inset: 0;
      background-image: url("https://www.transparenttextures.com/patterns/asfalt-light.png");
      opacity: 0.12;
      z-index: -1;
      pointer-events: none;
    }

    .wrap{
      max-width:1100px;
      margin: 30px auto;
      padding: 0 18px 50px 18px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:15px;
      padding:16px 18px;
      border-radius:18px;
      background: rgba(20, 26, 42, 0.60);
      border: 1px solid rgba(255,255,255,0.08);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 45px rgba(0,0,0,0.35);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }

    .logo{
      width:42px;
      height:42px;
      border-radius:14px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      background: linear-gradient(135deg, #0a66c2, #7c3aed);
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }

    .brand h1{
      font-size:18px;
      font-weight:900;
      letter-spacing:0.5px;
    }

    .brand p{
      font-size:12px;
      opacity:0.75;
      margin-top:3px;
    }

    nav{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      justify-content:center;
    }

    nav a{
      text-decoration:none;
      color:#fff;
      font-weight:800;
      font-size:13px;
      opacity:0.85;
      padding:8px 12px;
      border-radius: 12px;
      transition: 0.2s;
    }

    nav a:hover{
      background: rgba(255,255,255,0.08);
      opacity:1;
      transform: translateY(-1px);
    }

    .hero{
      display:grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap:16px;
      margin-top:18px;
    }

    .glass{
      padding:24px;
      border-radius:22px;
      background: rgba(20, 26, 42, 0.62);
      border: 1px solid rgba(255,255,255,0.09);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 50px rgba(0,0,0,0.35);
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      font-size:12px;
      font-weight:900;
      padding:10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,0.08);
      border:1px solid rgba(255,255,255,0.10);
      margin-bottom:14px;
      color:#e8e8ff;
    }

    .hero h2{
      font-size:34px;
      line-height:1.1;
      margin-bottom:12px;
    }

    .hero p{
      opacity:0.88;
      font-size:14px;
      line-height:1.6;
      margin-bottom:16px;
    }

    .btns{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:12px;
    }

    .btn{
      border:none;
      cursor:pointer;
      padding:12px 16px;
      border-radius: 14px;
      font-weight:900;
      font-size:14px;
      transition: 0.2s;
      display:inline-flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      color:#fff;
      justify-content:center;
    }

    .btn-primary{
      background: linear-gradient(135deg, #0a66c2, #7c3aed);
      box-shadow: 0 14px 35px rgba(124,58,237,0.25);
    }
    .btn-primary:hover{ transform: translateY(-2px); filter: brightness(1.05); }

    .btn-insta{
      background: rgba(225,29,72,0.20);
      border: 1px solid rgba(225,29,72,0.35);
    }
    .btn-insta:hover{ background: rgba(225,29,72,0.28); transform: translateY(-2px); }

    .btn-tiktok{
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
    }
    .btn-tiktok:hover{ background: rgba(255,255,255,0.18); transform: translateY(-2px); }

    section{ margin-top:18px; }

    .section-title{
      font-size:18px;
      font-weight:900;
      margin-bottom:8px;
    }

    .section-sub{
      font-size:13px;
      opacity:0.80;
      margin-bottom:14px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap:14px;
    }

    .card{
      padding:18px;
      border-radius:20px;
      background: rgba(20, 26, 42, 0.58);
      border: 1px solid rgba(255,255,255,0.09);
      backdrop-filter: blur(10px);
      transition:0.2s;
      box-shadow: 0 14px 35px rgba(0,0,0,0.28);
    }

    .card:hover{
      transform: translateY(-3px);
      border-color: rgba(255,255,255,0.14);
    }

    .card h4{
      margin-bottom:8px;
      font-size:15px;
      font-weight:900;
    }

    .card p{
      opacity:0.82;
      font-size:13px;
      line-height:1.5;
      margin-bottom:12px;
    }

    .price{
      font-weight:900;
      font-size:16px;
      margin-bottom:10px;
    }

    .form-row{ margin-top:12px; }

    label{
      display:block;
      font-size:12px;
      margin-bottom:6px;
      opacity:0.9;
      font-weight:800;
    }

    input, textarea{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.20);
      color:#fff;
      outline:none;
      resize:none;
    }

    .msg{
      margin-top:10px;
      font-size:12px;
      opacity:0.95;
    }

    .success{ color:#22c55e; }
    .error{ color:#ff5a5a; }

    .hidden{ display:none !important; }

    .chat-messages{
      height:180px;
      overflow:auto;
      padding:12px;
      border-radius:16px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.08);
    }

    .bubble{
      padding:10px 12px;
      border-radius:14px;
      margin-bottom:8px;
      max-width: 92%;
      font-size:13px;
      line-height:1.4;
    }

    .bubble.me{
      background: rgba(124,58,237,0.25);
      border: 1px solid rgba(124,58,237,0.35);
      margin-left:auto;
    }

    .bubble.admin{
      background: rgba(10,102,194,0.25);
      border: 1px solid rgba(10,102,194,0.35);
      margin-right:auto;
    }

    footer{
      margin-top:30px;
      text-align:center;
      opacity:0.7;
      font-size:13px;
    }

    @media (max-width: 900px){
      .hero{ grid-template-columns: 1fr; }
      nav{ display:none; }
      .hero h2{ font-size:28px; }
    }
  </style>
</head>

<body>
  <div class="bg"></div>
  <div class="noise"></div>

  <div class="wrap">

    <div class="topbar">
      <div class="brand">
        <div class="logo">ü•ã</div>
        <div>
          <h1>WebMarcial</h1>
          <p>Cursos + √Årea Exclusiva</p>
        </div>
      </div>

      <nav>
        <a href="#cursos">Cursos</a>
        <a href="#cliente">√Årea Exclusiva</a>
        <a href="#contato">Contato</a>
      </nav>
    </div>

    <div class="hero">
      <div class="glass">
        <div class="badge">üî• Compre e acesse o b√°sico em v√≠deo</div>

        <h2>Treine do b√°sico<br/>com v√≠deos exclusivos</h2>

        <div class="btns">
          <a class="btn btn-primary" href="#cursos">üéì Ver Cursos</a>
          <a class="btn btn-insta" href="https://instagram.com/stylejemarcial" target="_blank">üì∏ Instagram</a>
          <a class="btn btn-tiktok" href="https://www.tiktok.com/@stylersmarcial0" target="_blank">üéµ TikTok</a>
        </div>
      </div>

      <div class="glass">
        <h3 class="section-title">‚úÖ Suporte</h3>
        <p class="section-sub">Ap√≥s entrar, voc√™ tem chat privado comigo.</p>

        <div class="grid">
          <div class="card">
            <h4>üí¨ Chat</h4>
            <p>Tire d√∫vidas e pe√ßa os links.</p>
          </div>
          <div class="card">
            <h4>üé¨ V√≠deos</h4>
            <p>Playlists por modalidade.</p>
          </div>
          <div class="card">
            <h4>üîê Privado</h4>
            <p>S√≥ entra logado.</p>
          </div>
        </div>
      </div>
    </div>

    <section id="cursos">
      <div class="glass">
        <h3 class="section-title">üéì Cursos</h3>
        <p class="section-sub">Clique em comprar para ir ao pagamento.</p>

        <div class="grid">
          <div class="card">
            <h4>ü•ã Jiu-jitsu</h4>
            <p>Fundamentos, posi√ß√µes e no√ß√µes b√°sicas.</p>
            <div class="price">R$ 29,90</div>
            <a class="btn btn-primary" href="COLE_AQUI_LINK_PAGAMENTO_JIU" target="_blank">Comprar</a>
          </div>

          <div class="card">
            <h4>ü•ã Jud√¥</h4>
            <p>Base, pegadas e quedas iniciais.</p>
            <div class="price">R$ 29,90</div>
            <a class="btn btn-primary" href="COLE_AQUI_LINK_PAGAMENTO_JUDO" target="_blank">Comprar</a>
          </div>

          <div class="card">
            <h4>ü•ä Boxe</h4>
            <p>Guarda, jab, direto e movimenta√ß√£o.</p>
            <div class="price">R$ 29,90</div>
            <a class="btn btn-primary" href="COLE_AQUI_LINK_PAGAMENTO_BOXE" target="_blank">Comprar</a>
          </div>

          <div class="card">
            <h4>ü¶µ Muay Thai</h4>
            <p>Chutes, joelhadas e combos b√°sicos.</p>
            <div class="price">R$ 29,90</div>
            <a class="btn btn-primary" href="COLE_AQUI_LINK_PAGAMENTO_MUAY" target="_blank">Comprar</a>
          </div>
        </div>
      </div>
    </section>

    <section id="cliente">
      <div class="glass">
        <h3 class="section-title">üîê √Årea Exclusiva</h3>
        <p class="section-sub">Login / Registro + v√≠deos + chat privado</p>

        <div id="loginBox">
          <div class="grid">
            <div class="card">
              <h4>üîë Login</h4>

              <div class="form-row">
                <label>Email</label>
                <input id="loginEmail" type="email" placeholder="exemplo@gmail.com">
              </div>

              <div class="form-row">
                <label>Senha</label>
                <input id="loginPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
              </div>

              <button class="btn btn-primary" id="btnLogin">Entrar</button>
              <div class="msg" id="loginMsg"></div>

              <p class="small" style="margin-top:12px;">Ainda n√£o tem conta?</p>
              <button class="btn btn-insta" id="btnShowRegister">üìù Criar Conta</button>
            </div>

            <div class="card">
              <h4>‚úÖ O que tem aqui</h4>
              <p class="small">
                ‚úÖ V√≠deos por modalidade<br>
                ‚úÖ Chat privado comigo<br>
              </p>
            </div>
          </div>
        </div>

        <div id="registerBox" class="hidden">
          <div class="grid">
            <div class="card">
              <h4>üìù Registro</h4>

              <div class="form-row">
                <label>Email</label>
                <input id="regEmail" type="email" placeholder="exemplo@gmail.com">
              </div>

              <div class="form-row">
                <label>Senha</label>
                <input id="regPass" type="password" placeholder="m√≠nimo 6 caracteres">
              </div>

              <button class="btn btn-primary" id="btnRegister">Criar Conta</button>
              <div class="msg" id="regMsg"></div>

              <p class="small" style="margin-top:12px;">J√° tem conta?</p>
              <button class="btn btn-primary" id="btnShowLogin">üîë Voltar para Login</button>
            </div>

            <div class="card">
              <h4>üîí Privacidade</h4>
              <p>S√≥ entra logado.</p>
            </div>
          </div>
        </div>

        <div id="privateBox" class="hidden">
          <div class="grid">
            <div class="card">
              <h4>‚úÖ Voc√™ est√° logado</h4>
              <p>Email:</p>
              <p id="userEmail" style="margin-top:8px; font-weight:900;"></p>

              <button class="btn btn-primary" id="btnLogout">Sair da Conta</button>
            </div>

            <div class="card">
              <h4>üé¨ V√≠deos</h4>
              <p>Playlists b√°sicas:</p>

              <div class="btns" style="margin-top:12px;">
                <a class="btn btn-primary" href="https://www.youtube.com/playlist?list=PL0Y3uoaUtre8FZYwL6K9On0XGpooqXxSb" target="_blank">ü•ã Jiu-jitsu</a>
                <a class="btn btn-primary" href="https://www.youtube.com/playlist?list=PLtz539PTepc16H2iu5F3Q3D7_He1EYlIQ" target="_blank">ü•ã Jud√¥</a>
                <a class="btn btn-primary" href="https://www.youtube.com/playlist?list=PLMV20-Vw0tTyUSzUh26z1-vWHP_e2X62x" target="_blank">ü•ä Boxe</a>
                <a class="btn btn-primary" href="https://youtube.com/playlist?list=PLjDOOcuxxZJDCMGvK-eUMwCGZA-AnDKIu&si=lTvmv-F8W44tCHkz" target="_blank">ü¶µ Muay Thai</a>
              </div>
            </div>
          </div>

          <div style="margin-top:14px;">
            <div class="card">
              <h4>üí¨ Chat Privado</h4>

              <div class="chat-messages" id="chatMessages"></div>

              <div class="form-row">
                <label>Sua mensagem</label>
                <textarea id="chatInput" rows="3" placeholder="Digite sua mensagem..."></textarea>
              </div>

              <button class="btn btn-primary" id="btnSendMessage">Enviar</button>
              <div class="msg" id="chatMsg"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contato">
      <div class="glass">
        <h3 class="section-title">üì© Contato</h3>
        <p class="section-sub">Minhas redes:</p>

        <div class="btns">
          <a class="btn btn-insta" href="https://instagram.com/stylejemarcial" target="_blank">üì∏ Instagram</a>
          <a class="btn btn-tiktok" href="https://www.tiktok.com/@stylersmarcial0" target="_blank">üéµ TikTok</a>
        </div>
      </div>
    </section>

    <footer>
      ¬© 2026 WebMarcial ‚Äî GitHub Pages + Firebase ‚úÖ
    </footer>

  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      onAuthStateChanged,
      signOut
    } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";

    import {
      getFirestore,
      collection,
      addDoc,
      query,
      orderBy,
      onSnapshot,
      serverTimestamp
    } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyACNJg9GYOOFhCfOQBkKE_Wy2v51_-SGoE",
      authDomain: "stylersmarcial.firebaseapp.com",
      projectId: "stylersmarcial",
      storageBucket: "stylersmarcial.firebasestorage.app",
      messagingSenderId: "742809331074",
      appId: "1:742809331074:web:ef0d36b9871c11f2815b9b",
      measurementId: "G-5MT6WBCRNF"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const loginBox = document.getElementById("loginBox");
    const registerBox = document.getElementById("registerBox");
    const privateBox = document.getElementById("privateBox");

    const btnShowRegister = document.getElementById("btnShowRegister");
    const btnShowLogin = document.getElementById("btnShowLogin");

    const loginEmail = document.getElementById("loginEmail");
    const loginPass = document.getElementById("loginPass");
    const btnLogin = document.getElementById("btnLogin");
    const loginMsg = document.getElementById("loginMsg");

    const regEmail = document.getElementById("regEmail");
    const regPass = document.getElementById("regPass");
    const btnRegister = document.getElementById("btnRegister");
    const regMsg = document.getElementById("regMsg");

    const userEmail = document.getElementById("userEmail");
    const btnLogout = document.getElementById("btnLogout");

    // CHAT
    const chatMessages = document.getElementById("chatMessages");
    const chatInput = document.getElementById("chatInput");
    const btnSendMessage = document.getElementById("btnSendMessage");
    const chatMsg = document.getElementById("chatMsg");

    function showLogin(){
      loginBox.classList.remove("hidden");
      registerBox.classList.add("hidden");
      privateBox.classList.add("hidden");
      loginMsg.textContent = "";
      regMsg.textContent = "";
    }

    function showRegister(){
      loginBox.classList.add("hidden");
      registerBox.classList.remove("hidden");
      privateBox.classList.add("hidden");
      loginMsg.textContent = "";
      regMsg.textContent = "";
    }

    function showPrivate(email){
      loginBox.classList.add("hidden");
      registerBox.classList.add("hidden");
      privateBox.classList.remove("hidden");
      userEmail.textContent = email;
      loginMsg.textContent = "";
      regMsg.textContent = "";
    }

    btnShowRegister?.addEventListener("click", showRegister);
    btnShowLogin?.addEventListener("click", showLogin);

    btnLogin.addEventListener("click", async () => {
      loginMsg.textContent = "";
      try{
        const email = loginEmail.value.trim();
        const pass = loginPass.value.trim();
        await signInWithEmailAndPassword(auth, email, pass);
        loginMsg.textContent = "‚úÖ Login feito com sucesso!";
        loginMsg.className = "msg success";
      }catch(err){
        loginMsg.textContent = "‚ùå Erro no login: " + err.message;
        loginMsg.className = "msg error";
      }
    });

    btnRegister.addEventListener("click", async () => {
      regMsg.textContent = "";
      try{
        const email = regEmail.value.trim();
        const pass = regPass.value.trim();
        await createUserWithEmailAndPassword(auth, email, pass);
        regMsg.textContent = "‚úÖ Conta criada! Voc√™ j√° est√° logado.";
        regMsg.className = "msg success";
      }catch(err){
        regMsg.textContent = "‚ùå Erro ao criar conta: " + err.message;
        regMsg.className = "msg error";
      }
    });

    btnLogout.addEventListener("click", async () => {
      await signOut(auth);
    });

    let stopChatListener = null;

    onAuthStateChanged(auth, (user) => {
      if(user){
        showPrivate(user.email);

        const userChatRef = collection(db, "chats", user.uid, "messages");
        const q = query(userChatRef, orderBy("createdAt", "asc"));

        if(stopChatListener) stopChatListener();

        stopChatListener = onSnapshot(q, (snap) => {
          chatMessages.innerHTML = "";
          snap.forEach((doc) => {
            const data = doc.data();
            const div = document.createElement("div");
            div.className = "bubble " + (data.sender === "user" ? "me" : "admin");
            div.textContent = data.text || "";
            chatMessages.appendChild(div);
          });
          chatMessages.scrollTop = chatMessages.scrollHeight;
        });

      }else{
        showLogin();
        if(stopChatListener) stopChatListener();
      }
    });

    btnSendMessage.addEventListener("click", async () => {
      chatMsg.textContent = "";
      try{
        const user = auth.currentUser;
        if(!user){
          chatMsg.textContent = "‚ùå Voc√™ precisa estar logado.";
          chatMsg.className = "msg error";
          return;
        }

        const text = chatInput.value.trim();
        if(!text){
          chatMsg.textContent = "‚ùå Digite uma mensagem.";
          chatMsg.className = "msg error";
          return;
        }

        const userChatRef = collection(db, "chats", user.uid, "messages");

        await addDoc(userChatRef, {
          text,
          sender: "user",
          createdAt: serverTimestamp()
        });

        chatInput.value = "";
        chatMsg.textContent = "‚úÖ Mensagem enviada!";
        chatMsg.className = "msg success";

      }catch(err){
        chatMsg.textContent = "‚ùå Erro: " + err.message;
        chatMsg.className = "msg error";
      }
    });
  </script>
</body>
</html>
